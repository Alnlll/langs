# 2.1 å˜é‡
## å˜é‡ç»‘å®š
Rustä¸­, `let a = "hello world"` è¢«å®šä¹‰ä¸ºâ€œå˜é‡ç»‘å®šâ€ã€‚
å¦‚æ­¤å‘½åçš„åŸå› ä¸Rustçš„æ ¸å¿ƒåŸåˆ™--æ‰€æœ‰æƒç›¸å…³ï¼Œç»‘å®šå°±æ˜¯æŠŠä¸€ä¸ªå¯¹è±¡ç»‘å®šç»™ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡æˆä¸ºäº†å®ƒçš„ä¸»äººï¼ˆåŒæ—¶ä¹Ÿæ„å‘³ç€åŸæœ‰çš„ä¸»äººå¤±å»äº†æ‰€æœ‰æƒï¼‰ã€‚

## å˜é‡å¯å˜æ€§
Rusté»˜è®¤æƒ…å†µä¸‹ï¼Œå˜é‡æ˜¯ä¸å¯å˜çš„ï¼Œå¯ä»¥é€šè¿‡`mut`å…³é”®å­—æŒ‡å®šä¸ºå¯å˜å˜é‡ã€‚
```rust
fn main() {
    let x = 5;
    println!("The value of x is: {}", x);
    x = 6;
    println!("The value of x is: {}", x);
}

// ##################################
$ cargo run
   Compiling variables v0.1.0 (file:///projects/variables)
error[E0384]: cannot assign twice to immutable variable `x`
 --> src/main.rs:4:5
  |
2 |     let x = 5;
  |         -
  |         |
  |         first assignment to `x`
  |         help: consider making this binding mutable: `mut x`
3 |     println!("The value of x is: {}", x);
4 |     x = 6;
  |     ^^^^^ cannot assign twice to immutable variable

error: aborting due to previous error
```

```rust
fn main() {
    let mut x = 5;
    println!("The value of x is: {}", x);
    x = 6;
    println!("The value of x is: {}", x);
}
```

## å˜é‡è§£æ„
```rust
fn main() {
    let (a, mut b): (bool,bool) = (true, false);
    // a = true,ä¸å¯å˜; b = falseï¼Œå¯å˜
    println!("a = {:?}, b = {:?}", a, b);

    b = true;
    assert_eq!(a, b);
}
```
### ç»“æ„å¼èµ‹å€¼
åœ¨rust 1.59ä¹‹åï¼Œå¯ä»¥åœ¨èµ‹å€¼è¯­å¥çš„å·¦å¼ä¸­ä½¿ç”¨å…ƒç¥–ï¼Œåˆ‡ç‰‡å’Œç»“æ„ä½“æ¨¡å¼äº†ã€‚
```rust
struct Struct {
    e: i32
}

fn main() {
    let (a, b, c, d, e);

    (a, b) = (1, 2);
    // _ ä»£è¡¨åŒ¹é…ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å…³å¿ƒå…·ä½“çš„å€¼æ˜¯ä»€ä¹ˆï¼Œå› æ­¤æ²¡æœ‰ä½¿ç”¨ä¸€ä¸ªå˜é‡åè€Œæ˜¯ä½¿ç”¨äº† _
    [c, .., d, _] = [1, 2, 3, 4, 5];
    Struct { e, .. } = Struct { e: 5 };

    assert_eq!([1, 2, 1, 4, 5], [a, b, c, d, e]);
}
```

## å˜é‡å’Œå¸¸é‡
- å¸¸é‡ä¸å…è®¸ä½¿ç”¨`mut`, å¸¸é‡ä¸ä»…é»˜è®¤ä¸å¯å˜ï¼Œè€Œä¸”å§‹ç»ˆä¸å¯å˜ï¼Œå¸¸é‡åœ¨ç¼–è¯‘å®Œæˆåå°±å·²ç»ç¡®è®¤äº†ä»–çš„å€¼ã€‚
- å¸¸é‡ä½¿ç”¨`const`æ¥å£°æ˜ï¼Œå¹¶ä¸”å¿…é¡»æ ‡æ³¨ç±»å‹

```rust
const MAX_POINTS: u32 = 100_000;
```
å¸¸é‡å¯ä»¥åœ¨ä»»æ„ä½œç”¨åŸŸä¸­å£°æ˜ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸï¼Œåœ¨å£°æ˜çš„ä½œç”¨åŸŸå†…ï¼Œå¸¸é‡åœ¨ç¨‹åºè¿è¡Œçš„æ•´ä¸ªè¿‡ç¨‹ä¸­éƒ½æœ‰æ•ˆã€‚

## å˜é‡é®è”½ï¼ˆshadowingï¼‰
Rustå…è®¸å£°æ˜ç›¸åŒçš„å˜é‡ï¼Œåœ¨åé¢å£°æ˜çš„å˜é‡ä¼šé®è”½ï¼ˆshadowingï¼‰å‰é¢å£°æ˜çš„å˜é‡ã€‚
```rust
fn main() {
    let x = 5;
    // åœ¨mainå‡½æ•°çš„ä½œç”¨åŸŸå†…å¯¹ä¹‹å‰çš„xè¿›è¡Œé®è”½
    let x = x + 1;

    {
        // åœ¨å½“å‰çš„èŠ±æ‹¬å·ä½œç”¨åŸŸå†…ï¼Œå¯¹ä¹‹å‰çš„xè¿›è¡Œé®è”½
        let x = x * 2;
        println!("The value of x in the inner scope is: {}", x);
    }

    println!("The value of x is: {}", x);
}
```

# 2.2 åŸºæœ¬ç±»å‹
Rustæ¯ä¸ªå˜é‡éƒ½æœ‰å…¶ç¡®åˆ‡çš„æ•°æ®ç±»å‹ï¼Œé€šå¸¸åˆ†ä¸ºä¸¤ç±»ï¼šåŸºæœ¬ç±»å‹å’Œå¤åˆç±»å‹ï¼š
- æ•°å€¼ç±»å‹ï¼šæœ‰ç¬¦å·æ•´æ•° `(i8, i16, i32, i64, isize)`ã€ æ— ç¬¦å·æ•´æ•° `(u8, u16, u32, u64, usize)` ã€æµ®ç‚¹æ•° `(f32, f64)`ã€ä»¥åŠæœ‰ç†æ•°ã€å¤æ•°
- å­—ç¬¦ä¸²ï¼šå­—ç¬¦ä¸²å­—é¢é‡å’Œå­—ç¬¦ä¸²åˆ‡ç‰‡ `&str`
- å¸ƒå°”ç±»å‹ï¼š`true` å’Œ `false`
- å­—ç¬¦ç±»å‹ï¼šè¡¨ç¤ºå•ä¸ª Unicode å­—ç¬¦ï¼Œå­˜å‚¨ä¸º 4 ä¸ªå­—èŠ‚
- å•å…ƒç±»å‹ï¼šå³ () ï¼Œå…¶å”¯ä¸€çš„å€¼ä¹Ÿæ˜¯ ()

## ç±»å‹æ¨å€’ä¸æ ‡æ³¨
ä¸å…¶ä»–åŠ¨æ€è¯­è¨€ä¸åŒï¼ŒRustæ˜¯é™æ€ç±»å‹è¯­è¨€ï¼Œç¼–è¯‘å™¨å¿…é¡»åœ¨ç¼–è¯‘æœŸç¡®å®šæ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚ä½†æ˜¯è¿™ä¸æ„å‘³ç€æˆ‘ä»¬å¿…é¡»ä¸ºæ¯ä¸€ä¸ªå˜é‡æ ‡æ³¨ç±»å‹ï¼Œç¼–è¯‘å™¨ä¹Ÿå¯ä»¥è¿›è¡Œç±»å‹æ¨å¯¼ã€‚
ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¸èƒ½æ¨å¯¼å‡ºç¡®åˆ‡ç±»å‹çš„æ—¶å€™ï¼Œå°±éœ€è¦æ˜ç¡®çš„æ ‡å‡†ç±»å‹ã€‚

```rust
let guess = "42".parse().expect("Not a number!");

$ cargo build
   Compiling no_type_annotations v0.1.0 (file:///projects/no_type_annotations)
error[E0282]: type annotations needed
 --> src/main.rs:2:9
  |
2 |     let guess = "42".parse().expect("Not a number!");
  |         ^^^^^ consider giving `guess` a type
```

## 2.2.1 æ•°å€¼ç±»å‹
### æ•´æ•°ç±»å‹
é•¿åº¦ | æœ‰ç¬¦å·ç±»å‹ |æ— ç¬¦å·ç±»å‹
-- | -- | --
8 ä½ | i8 | u8
16 ä½ | i16 | u16
32 ä½ | i32 | u32
64 ä½ | i64 | u64
128 ä½ | i128 | u128
è§†æ¶æ„è€Œå®š | isize | usize

æ¯ä¸ªæœ‰ç¬¦å·ç±»å‹è§„å®šçš„æ•°å­—èŒƒå›´æ˜¯ $-(2^{n - 1})$ ~ $ 2^{n - 1} - 1$ï¼Œå…¶ä¸­ n æ˜¯è¯¥å®šä¹‰å½¢å¼çš„ä½é•¿åº¦ã€‚å› æ­¤ `i8`å¯å­˜å‚¨æ•°å­—èŒƒå›´æ˜¯ -128 ~ 127ã€‚æ— ç¬¦å·ç±»å‹å¯ä»¥å­˜å‚¨çš„æ•°å­—èŒƒå›´æ˜¯ 0 ~ $2^n - 1$ï¼Œæ‰€ä»¥ u8 èƒ½å¤Ÿå­˜å‚¨çš„æ•°å­—ä¸º 0 ~ 255ã€‚

æ•°å­—å­—é¢é‡ | ç¤ºä¾‹
-- | --
åè¿›åˆ¶ | 98_222
åå…­è¿›åˆ¶ | 0xff
å…«è¿›åˆ¶ | 0o77
äºŒè¿›åˆ¶ | 0b1111_0000
å­—èŠ‚ (ä»…é™äº u8) | b'A'

### æ•´å½¢æº¢å‡º
åœ¨debugæ¨¡å¼ä¸‹ï¼ŒRustä¼šæ£€æŸ¥æ•´å½¢æº¢å‡ºå¹¶panicã€‚
ä½†æ˜¯åœ¨releaseæ¨¡å¼ä¸‹ï¼ŒRustä¸ä¼šæ£€æµ‹æº¢å‡ºï¼Œè€Œæ˜¯æŒ‰ç…§è¡¥ç å¾ªç¯æº¢å‡ºï¼ˆtwo's complement wrapperï¼‰çš„è§„åˆ™å¤„ç†ã€‚
å¤§äºè¯¥ç±»å‹æœ€å¤§å€¼çš„æ•°å€¼ä¼šè¢«è¡¥ç è½¬åŒ–æˆè¯¥ç±»å‹èƒ½å¤Ÿæ”¯æŒçš„æœ€å°å€¼ï¼Œe.x., `u8`ä¸‹256 -ã€‹ 0ï¼Œ 257 -ã€‹ 1.
å¦‚æœæƒ³è¦æ˜¾å¼å¤„ç†æº¢å‡ºï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•ï¼š
- ä½¿ç”¨ wrapping_* æ–¹æ³•åœ¨æ‰€æœ‰æ¨¡å¼ä¸‹éƒ½æŒ‰ç…§è¡¥ç å¾ªç¯æº¢å‡ºè§„åˆ™å¤„ç†ï¼Œä¾‹å¦‚ `wrapping_add`
- å¦‚æœä½¿ç”¨ checked_* æ–¹æ³•æ—¶å‘ç”Ÿæº¢å‡ºï¼Œåˆ™è¿”å› None å€¼
- ä½¿ç”¨ overflowing_* æ–¹æ³•è¿”å›è¯¥å€¼å’Œä¸€ä¸ªæŒ‡ç¤ºæ˜¯å¦å­˜åœ¨æº¢å‡ºçš„å¸ƒå°”å€¼
- ä½¿ç”¨ saturating_* æ–¹æ³•ï¼Œå¯ä»¥é™å®šè®¡ç®—åçš„ç»“æœä¸è¶…è¿‡ç›®æ ‡ç±»å‹çš„æœ€å¤§å€¼æˆ–ä½äºæœ€å°å€¼ï¼Œä¾‹å¦‚:
```Rust
assert_eq!(100u8.saturating_add(1), 101);
assert_eq!(u8::MAX.saturating_add(127), u8::MAX);
```

## æµ®ç‚¹ç±»å‹
åœ¨ Rust ä¸­æµ®ç‚¹ç±»å‹æ•°å­—ä¹Ÿæœ‰ä¸¤ç§åŸºæœ¬ç±»å‹ï¼š `f32` å’Œ `f64`.
```Rust
fn main() {
    let x = 2.0; // f64
    let y: f32 = 3.0; // f32
}
```
æµ®ç‚¹æ•°ç”±äºåº•å±‚æ ¼å¼çš„ç‰¹æ®Šæ€§ï¼Œå¯¼è‡´äº†å¦‚æœåœ¨ä½¿ç”¨æµ®ç‚¹æ•°æ—¶ä¸å¤Ÿè°¨æ…ï¼Œå°±å¯èƒ½é€ æˆå±é™©ï¼Œæœ‰ä¸¤ä¸ªåŸå› ï¼š
- æµ®ç‚¹æ•°å¾€å¾€æ˜¯ä½ æƒ³è¦æ•°å­—çš„è¿‘ä¼¼è¡¨è¾¾
- æµ®ç‚¹æ•°åœ¨æŸäº›ç‰¹æ€§ä¸Šæ˜¯åç›´è§‰çš„ 

Rust çš„ HashMap æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ä¸ª KV ç±»å‹çš„ Hash Map å®ç°ï¼Œå®ƒå¯¹äº K æ²¡æœ‰ç‰¹å®šç±»å‹çš„é™åˆ¶ï¼Œä½†æ˜¯è¦æ±‚èƒ½ç”¨ä½œ K çš„ç±»å‹å¿…é¡»å®ç°äº† std::cmp::Eq ç‰¹å¾ï¼Œå› æ­¤è¿™æ„å‘³ç€ä½ æ— æ³•ä½¿ç”¨æµ®ç‚¹æ•°ä½œä¸º HashMap çš„ Key.

ä¸ºäº†é¿å…ä¸Šé¢è¯´çš„ä¸¤ä¸ªé™·é˜±ï¼Œä½ éœ€è¦éµå®ˆä»¥ä¸‹å‡†åˆ™ï¼š
- é¿å…åœ¨æµ®ç‚¹æ•°ä¸Šæµ‹è¯•ç›¸ç­‰æ€§
- å½“ç»“æœåœ¨æ•°å­¦ä¸Šå¯èƒ½å­˜åœ¨æœªå®šä¹‰æ—¶ï¼Œéœ€è¦æ ¼å¤–çš„å°å¿ƒ

```rust
fn main() {
    let abc: (f32, f32, f32) = (0.1, 0.2, 0.3);
    let xyz: (f64, f64, f64) = (0.1, 0.2, 0.3);

    println!("abc (f32)");
    println!("   0.1 + 0.2: {:x}", (abc.0 + abc.1).to_bits());
    println!("         0.3: {:x}", (abc.2).to_bits());
    println!();

    println!("xyz (f64)");
    println!("   0.1 + 0.2: {:x}", (xyz.0 + xyz.1).to_bits());
    println!("         0.3: {:x}", (xyz.2).to_bits());
    println!();

    assert!(abc.0 + abc.1 == abc.2);
    assert!(xyz.0 + xyz.1 == xyz.2);
}

abc (f32)
   0.1 + 0.2: 3e99999a
         0.3: 3e99999a

xyz (f64)
   0.1 + 0.2: 3fd3333333333334
         0.3: 3fd3333333333333

thread 'main' panicked at 'assertion failed: xyz.0 + xyz.1 == xyz.2',
â¥ch2-add-floats.rs.rs:14:5
note: run with `RUST_BACKTRACE=1` environment variable to display
â¥a backtrace
```

### NaN
å¯¹äºæ•°å­¦ä¸Šæœªå®šä¹‰çš„ç»“æœï¼Œä¾‹å¦‚å¯¹è´Ÿæ•°å–å¹³æ–¹æ ¹ -42.1.sqrt() ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªç‰¹æ®Šçš„ç»“æœï¼šRust çš„æµ®ç‚¹æ•°ç±»å‹ä½¿ç”¨ NaN (not a number) æ¥å¤„ç†è¿™äº›æƒ…å†µã€‚

æ‰€æœ‰è·Ÿ NaN äº¤äº’çš„æ“ä½œï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ª NaNï¼Œè€Œä¸” NaN ä¸èƒ½ç”¨æ¥æ¯”è¾ƒ.

```rust
fn main() {
  let x = (-42.0_f32).sqrt();
  assert_eq!(x, x);
}

 Compiling playground v0.0.1 (/playground)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.73s
     Running `target/debug/playground`

thread 'main' (12) panicked at src/main.rs:3:3:
assertion `left == right` failed
  left: NaN
 right: NaN
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```

## æ•°å­—è¿ç®—
Rust æ”¯æŒæ‰€æœ‰æ•°å­—ç±»å‹çš„åŸºæœ¬æ•°å­¦è¿ç®—ï¼šåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å’Œå–æ¨¡è¿ç®—ã€‚
```rust
fn main() {
  // ç¼–è¯‘å™¨ä¼šè¿›è¡Œè‡ªåŠ¨æ¨å¯¼ï¼Œç»™äºˆtwenty i32çš„ç±»å‹
  let twenty = 20;
  // ç±»å‹æ ‡æ³¨
  let twenty_one: i32 = 21;
  // é€šè¿‡ç±»å‹åç¼€çš„æ–¹å¼è¿›è¡Œç±»å‹æ ‡æ³¨ï¼š22æ˜¯i32ç±»å‹
  let twenty_two = 22i32;

  // åªæœ‰åŒæ ·ç±»å‹ï¼Œæ‰èƒ½è¿ç®—
  let addition = twenty + twenty_one + twenty_two;
  println!("{} + {} + {} = {}", twenty, twenty_one, twenty_two, addition);

  // å¯¹äºè¾ƒé•¿çš„æ•°å­—ï¼Œå¯ä»¥ç”¨_è¿›è¡Œåˆ†å‰²ï¼Œæå‡å¯è¯»æ€§
  let one_million: i64 = 1_000_000;
  println!("{}", one_million.pow(2));

  // å®šä¹‰ä¸€ä¸ªf32æ•°ç»„ï¼Œå…¶ä¸­42.0ä¼šè‡ªåŠ¨è¢«æ¨å¯¼ä¸ºf32ç±»å‹
  let forty_twos = [
    42.0,
    42f32,
    42.0_f32,
  ];

  // æ‰“å°æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå€¼ï¼Œå¹¶æ§åˆ¶å°æ•°ä½ä¸º2ä½
  println!("{:.2}", forty_twos[0]);
}
```

## ä½è¿ç®—

è¿ç®—ç¬¦ | è¯´æ˜
-- | --
& | ç›¸åŒä½ç½®å‡ä¸º1æ—¶åˆ™ä¸º1,å¦åˆ™ä¸º0
ï½œ | ç›¸åŒä½ç½®åªè¦æœ‰1æ—¶åˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0
^ | ç›¸åŒä½ç½®ä¸ç›¸åŒåˆ™ä¸º1ï¼Œç›¸åŒåˆ™ä¸º0
! | æŠŠä½ä¸­çš„0å’Œ1ç›¸äº’å–åï¼Œå³0ç½®ä¸º1ï¼Œ1ç½®ä¸º0
<< å·¦ç§» | æ‰€æœ‰ä½å‘å·¦ç§»åŠ¨æŒ‡å®šä½æ•°ï¼Œå³ä½è¡¥0
">> å³ç§»" | æ‰€æœ‰ä½å‘å³ç§»åŠ¨æŒ‡å®šä½æ•°ï¼Œå¸¦ç¬¦å·ç§»åŠ¨ï¼ˆæ­£æ•°è¡¥0ï¼Œè´Ÿæ•°è¡¥1ï¼‰

```rust
fn main() {
    // æ— ç¬¦å·8ä½æ•´æ•°ï¼ŒäºŒè¿›åˆ¶ä¸º00000010
    let a: u8 = 2; // ä¹Ÿå¯ä»¥å†™ let a: u8 = 0b_0000_0010;

    // äºŒè¿›åˆ¶ä¸º00000011
    let b: u8 = 3;

    // {:08b}ï¼šå·¦é«˜å³ä½è¾“å‡ºäºŒè¿›åˆ¶01ï¼Œä¸è¶³8ä½åˆ™é«˜ä½è¡¥0
    println!("a value is        {:08b}", a);

    println!("b value is        {:08b}", b);

    println!("(a & b) value is  {:08b}", a & b);

    println!("(a | b) value is  {:08b}", a | b);

    println!("(a ^ b) value is  {:08b}", a ^ b);

    println!("(!b) value is     {:08b}", !b);

    println!("(a << b) value is {:08b}", a << b);

    println!("(a >> b) value is {:08b}", a >> b);

    let mut a = a;
    // æ³¨æ„è¿™äº›è®¡ç®—ç¬¦é™¤äº†!ä¹‹å¤–éƒ½å¯ä»¥åŠ ä¸Š=è¿›è¡Œèµ‹å€¼ (å› ä¸º!=è¦ç”¨æ¥åˆ¤æ–­ä¸ç­‰äº)
    a <<= b;
    println!("(a << b) value is {:08b}", a);
}
```

```rust
fn main() {
   let a: u8 = 255;
   let b = a>>7; // ok
   let b = a<<7; // ok
   let b = a>>8; // overflow
   let b = a<<8; // overflow
}
```

## åºåˆ—(Range)
Rust æä¾›äº†ä¸€ä¸ªéå¸¸ç®€æ´çš„æ–¹å¼ï¼Œç”¨æ¥ç”Ÿæˆè¿ç»­çš„æ•°å€¼/
```rust
for i in 1..=5 {
    println!("{}",i);
}
```

åºåˆ—åªå…è®¸ç”¨äºæ•°å­—æˆ–å­—ç¬¦ç±»å‹ï¼ŒåŸå› æ˜¯ï¼šå®ƒä»¬å¯ä»¥è¿ç»­ï¼ŒåŒæ—¶ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸå¯ä»¥æ£€æŸ¥è¯¥åºåˆ—æ˜¯å¦ä¸ºç©ºï¼Œå­—ç¬¦å’Œæ•°å­—å€¼æ˜¯ Rust ä¸­ä»…æœ‰çš„å¯ä»¥ç”¨äºåˆ¤æ–­æ˜¯å¦ä¸ºç©ºçš„ç±»å‹

```rust
for i in 'a'..='z' {
    println!("{}",i);
}
```

## ä½¿ç”¨ As å®Œæˆç±»å‹è½¬æ¢
Rust ä¸­å¯ä»¥ä½¿ç”¨ As æ¥å®Œæˆä¸€ä¸ªç±»å‹åˆ°å¦ä¸€ä¸ªç±»å‹çš„è½¬æ¢ï¼Œå…¶æœ€å¸¸ç”¨äºå°†åŸå§‹ç±»å‹è½¬æ¢ä¸ºå…¶ä»–åŸå§‹ç±»å‹ï¼Œä½†æ˜¯å®ƒä¹Ÿå¯ä»¥å®Œæˆè¯¸å¦‚å°†æŒ‡é’ˆè½¬æ¢ä¸ºåœ°å€ã€åœ°å€è½¬æ¢ä¸ºæŒ‡é’ˆä»¥åŠå°†æŒ‡é’ˆè½¬æ¢ä¸ºå…¶ä»–æŒ‡é’ˆç­‰åŠŸèƒ½ã€‚


## æœ‰ç†æ•°å’Œå¤æ•°
Rust çš„æ ‡å‡†åº“ç›¸æ¯”å…¶å®ƒè¯­è¨€ï¼Œå‡†å…¥é—¨æ§›è¾ƒé«˜ï¼Œå› æ­¤æœ‰ç†æ•°å’Œå¤æ•°å¹¶æœªåŒ…å«åœ¨æ ‡å‡†åº“ä¸­ï¼š
- æœ‰ç†æ•°å’Œå¤æ•°
- ä»»æ„å¤§å°çš„æ•´æ•°å’Œä»»æ„ç²¾åº¦çš„æµ®ç‚¹æ•°
- å›ºå®šç²¾åº¦çš„åè¿›åˆ¶å°æ•°ï¼Œå¸¸ç”¨äºè´§å¸ç›¸å…³çš„åœºæ™¯

å¥½åœ¨ç¤¾åŒºå·²ç»å¼€å‘å‡ºé«˜è´¨é‡çš„ Rust æ•°å€¼åº“ï¼šnumã€‚

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥å¼•å…¥ num åº“ï¼š
- åˆ›å»ºæ–°å·¥ç¨‹ cargo new complex-num && cd complex-num
- åœ¨ Cargo.toml ä¸­çš„ [dependencies] ä¸‹æ·»åŠ ä¸€è¡Œ num = "0.4.0"
- å°† src/main.rs æ–‡ä»¶ä¸­çš„ main å‡½æ•°æ›¿æ¢ä¸ºä¸‹é¢çš„ä»£ç 
- è¿è¡Œ cargo run

```rust
use num::complex::Complex;

 fn main() {
   let a = Complex { re: 2.1, im: -1.2 };
   let b = Complex::new(11.1, 22.2);
   let result = a + b;

   println!("{} + {}i", result.re, result.im)
 }
```

## 2.2.2 å­—ç¬¦ã€å¸ƒå°”ã€å•å…ƒç±»å‹

### å­—ç¬¦ç±»å‹(char)

```rust
fn main() {
    let c = 'z';
    let z = 'â„¤';
    let g = 'å›½';
    let heart_eyed_cat = 'ğŸ˜»';
}
```
Rust çš„å­—ç¬¦ä¸ä»…ä»…æ˜¯ ASCIIï¼Œæ‰€æœ‰çš„ Unicode å€¼éƒ½å¯ä»¥ä½œä¸º Rust å­—ç¬¦ï¼ŒåŒ…æ‹¬å•ä¸ªçš„ä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ã€emoji è¡¨æƒ…ç¬¦å·ç­‰ç­‰ï¼Œéƒ½æ˜¯åˆæ³•çš„å­—ç¬¦ç±»å‹ã€‚Unicode å€¼çš„èŒƒå›´ä» U+0000 ~ U+D7FF å’Œ U+E000 ~ U+10FFFFã€‚

ç”±äº Unicode éƒ½æ˜¯ 4 ä¸ªå­—èŠ‚ç¼–ç ï¼Œå› æ­¤å­—ç¬¦ç±»å‹ä¹Ÿæ˜¯å ç”¨ 4 ä¸ªå­—èŠ‚ï¼š
```rust
fn main() {
    let x = 'ä¸­';
    println!("å­—ç¬¦'ä¸­'å ç”¨äº†{}å­—èŠ‚çš„å†…å­˜å¤§å°", size_of_val(&x));
}
```

### å¸ƒå°”(bool)
Rust ä¸­çš„å¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼štrue å’Œ falseï¼Œå¸ƒå°”å€¼å ç”¨å†…å­˜çš„å¤§å°ä¸º 1 ä¸ªå­—èŠ‚ï¼š
```rust
fn main() {
    let t = true;

    let f: bool = false; // ä½¿ç”¨ç±»å‹æ ‡æ³¨,æ˜¾å¼æŒ‡å®šfçš„ç±»å‹

    if f {
        println!("è¿™æ˜¯æ®µæ¯«æ— æ„ä¹‰çš„ä»£ç ");
    }
}
```

### å•å…ƒç±»å‹(unit)
å•å…ƒç±»å‹å°±æ˜¯ () ,å”¯ä¸€çš„å€¼ä¹Ÿæ˜¯ ().

main å‡½æ•°å°±è¿”å›è¿™ä¸ªå•å…ƒç±»å‹ ()ï¼Œä½ ä¸èƒ½è¯´ main å‡½æ•°æ— è¿”å›å€¼ï¼Œå› ä¸ºæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°åœ¨ Rust ä¸­æ˜¯æœ‰å•ç‹¬çš„å®šä¹‰çš„ï¼šå‘æ•£å‡½æ•°( diverging functions )ï¼Œé¡¾åæ€ä¹‰ï¼Œæ— æ³•æ”¶æ•›çš„å‡½æ•°ã€‚

() ä½œä¸º map çš„å€¼ï¼Œè¡¨ç¤ºæˆ‘ä»¬ä¸å…³æ³¨å…·ä½“çš„å€¼ï¼Œåªå…³æ³¨ keyã€‚ è¿™ç§ç”¨æ³•å’Œ Go è¯­è¨€çš„ struct{} ç±»ä¼¼ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªå€¼ç”¨æ¥å ä½ï¼Œä½†æ˜¯å®Œå…¨ä¸å ç”¨ä»»ä½•å†…å­˜ã€‚